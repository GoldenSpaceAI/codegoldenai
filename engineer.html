<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Engineer Access ‚Ä¢ CodeGoldenAI</title>
  <style>
    :root {
      --primary: #f6c64a;
      --secondary: #eb8b36;
      --dark: #222;
      --light: #f7fafc;
      --gray: #444;
    }
    
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: var(--light);
      color: var(--dark);
      line-height: 1.6;
    }
    
    header {
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      text-align: center;
      padding: 1.8rem 1.5rem;
      font-size: 1.8rem;
      font-weight: bold;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .container {
      max-width: 800px;
      margin: 3rem auto;
      padding: 0 1.5rem;
    }
    
    .card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      padding: 2.5rem;
      margin-bottom: 2rem;
    }
    
    h2 {
      color: var(--dark);
      margin-top: 0;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .password-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    
    input, textarea {
      padding: 0.8rem 1rem;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
      font-family: "Segoe UI", sans-serif;
    }
    
    textarea {
      min-height: 150px;
      resize: vertical;
    }
    
    .btn {
      display: inline-block;
      background: linear-gradient(45deg, var(--primary), var(--secondary));
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.3s;
      border: none;
      cursor: pointer;
      font-size: 1rem;
      text-align: center;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(235, 139, 54, 0.3);
    }
    
    .btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .message {
      padding: 1rem;
      border-radius: 8px;
      margin: 1rem 0;
    }
    
    .success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    
    .error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    
    .info {
      background: #d1ecf1;
      color: #0c5460;
      border: 1px solid #bee5eb;
    }
    
    .hidden {
      display: none;
    }
    
    .plan-info {
      background: #f8f9fa;
      padding: 1.5rem;
      border-radius: 10px;
      margin-top: 1.5rem;
    }
    
    .plan-info h3 {
      margin-top: 0;
      color: var(--dark);
    }
    
    .plan-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }
    
    .plan-card {
      background: white;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      border-left: 4px solid var(--primary);
    }
    
    .plan-card.free {
      border-left-color: #10b981;
    }
    
    .plan-card.plus {
      border-left-color: #3b82f6;
    }
    
    .plan-card.pro {
      border-left-color: #8b5cf6;
    }
    
    .plan-card h4 {
      margin-top: 0;
      color: var(--dark);
    }
    
    .password-example {
      background: #e9ecef;
      padding: 0.8rem;
      border-radius: 6px;
      font-family: monospace;
      margin: 0.5rem 0;
      border: 1px dashed #adb5bd;
    }
    
    .usage-info {
      margin-top: 1.5rem;
      font-size: 0.9rem;
      color: var(--gray);
    }
    
    .password-rules {
      margin-top: 1rem;
      padding: 1rem;
      background: #fff3cd;
      border-radius: 8px;
      border-left: 4px solid #ffc107;
    }
    
    .password-rules h4 {
      margin-top: 0;
      color: #856404;
    }
    
    .loading {
      display: none;
      text-align: center;
      padding: 2rem;
    }
    
    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid var(--secondary);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 2s linear infinite;
      margin: 0 auto 1rem;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <header>üîß Engineer Access ‚Ä¢ CodeGoldenAI</header>

  <div class="container">
    <!-- Password Entry Section -->
    <div class="card" id="passwordSection">
      <h2>Access Engineering Support</h2>
      <p>Enter your plan password to unlock engineer access:</p>
      
      <div class="password-form">
        <input type="password" id="passwordInput" placeholder="Enter your plan password">
        <button class="btn" id="submitPassword">Unlock Engineer Access</button>
      </div>
      
      <div class="message error hidden" id="passwordError">
        Invalid password. Please check your plan password and try again.
      </div>
      
      <div class="password-rules">
        <h4>üìã Password Requirements</h4>
        <p><strong>Free Plan:</strong> Password must be exactly <code>0000</code></p>
        <p><strong>Plus Plan:</strong> Password must end with <code>444212</code></p>
        <p><strong>Pro Plan:</strong> Password must end with <code>@_2211</code></p>
      </div>
      
      <div class="plan-info">
        <h3>Plan Information & Examples</h3>
        <div class="plan-details">
          <div class="plan-card free">
            <h4>üéØ Free Plan</h4>
            <p><strong>Password:</strong></p>
            <div class="password-example">0000</div>
            <p><strong>Access:</strong> 1 request per month</p>
            <p><strong>Response Time:</strong> Within 4 days</p>
          </div>
          <div class="plan-card plus">
            <h4>üöÄ Plus Plan</h4>
            <p><strong>Password ends with:</strong></p>
            <div class="password-example">444212</div>
            <p><strong>Examples:</strong> mypassword444212, hello444212</p>
            <p><strong>Access:</strong> 5 total requests</p>
            <p><strong>Response Time:</strong> Within 2 days</p>
          </div>
          <div class="plan-card pro">
            <h4>üíé Pro Plan</h4>
            <p><strong>Password ends with:</strong></p>
            <div class="password-example">@_2211</div>
            <p><strong>Examples:</strong> company@_2211, projectX@_2211</p>
            <p><strong>Access:</strong> Unlimited requests</p>
            <p><strong>Response Time:</strong> Within 24 hours</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Engineer Request Form (Initially Hidden) -->
    <div class="card hidden" id="requestSection">
      <h2>Contact an Engineer</h2>
      <p>Describe your application or technical issue in detail:</p>
      
      <form id="engineerForm">
        <div class="password-form">
          <textarea id="requestDetails" placeholder="Please describe your application, technical requirements, or the issue you're facing..."></textarea>
          <button type="submit" class="btn" id="submitRequest">Contact Engineer</button>
        </div>
      </form>
      
      <div class="usage-info">
        <p id="usageText">Requests remaining: <span id="requestsRemaining">-</span></p>
        <p id="responseTime">Expected response time: <span id="responseDays">-</span></p>
      </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading hidden" id="loadingSpinner">
      <div class="spinner"></div>
      <p>Sending your request to our engineers...</p>
    </div>

    <!-- Success Message (Initially Hidden) -->
    <div class="message success hidden" id="successMessage">
      <h3>‚úÖ Request Submitted Successfully!</h3>
      <p id="confirmationText">An engineer may contact you within 4 days.</p>
      <p>Thank you for using CodeGoldenAI services.</p>
    </div>

    <!-- Error Message (Initially Hidden) -->
    <div class="message error hidden" id="errorMessage">
      <h3>‚ùå Error Sending Request</h3>
      <p id="errorText">There was an error sending your request. Please try again or contact us directly at codingengineer288@gmail.com</p>
    </div>
  </div>

  <script>
    // Plan configurations
    const plans = {
      'free': {
        password: '0000',
        maxRequests: 1,
        resetDays: 30,
        responseTime: '4 days',
        passwordEnd: null
      },
      'plus': {
        password: null,
        maxRequests: 5,
        resetDays: null,
        responseTime: '2 days',
        passwordEnd: '444212'
      },
      'pro': {
        password: null,
        maxRequests: Infinity,
        resetDays: null,
        responseTime: '24 hours',
        passwordEnd: '@_2211'
      }
    };

    // Initialize user data in localStorage if not exists
    function initUserData() {
      if (!localStorage.getItem('codegoldenai_engineer_access')) {
        const userData = {
          free: { requests: 0, lastRequest: null },
          plus: { requests: 0, lastRequest: null },
          pro: { requests: 0, lastRequest: null }
        };
        localStorage.setItem('codegoldenai_engineer_access', JSON.stringify(userData));
      }
    }

    // Get user data from localStorage
    function getUserData() {
      return JSON.parse(localStorage.getItem('codegoldenai_engineer_access'));
    }

    // Update user data in localStorage
    function updateUserData(plan, requests, lastRequest) {
      const userData = getUserData();
      userData[plan] = { requests, lastRequest };
      localStorage.setItem('codegoldenai_engineer_access', JSON.stringify(userData));
    }

    // Check if user can make a request for the given plan
    function canMakeRequest(plan) {
      const userData = getUserData();
      const planData = userData[plan];
      const planConfig = plans[plan];
      
      if (planConfig.maxRequests === Infinity) return true;
      
      // Check if we need to reset the count (for free plan)
      if (plan === 'free' && planData.lastRequest) {
        const lastRequestDate = new Date(planData.lastRequest);
        const currentDate = new Date();
        const diffTime = Math.abs(currentDate - lastRequestDate);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        
        if (diffDays >= planConfig.resetDays) {
          updateUserData(plan, 0, null);
          return true;
        }
      }
      
      return planData.requests < planConfig.maxRequests;
    }

    // Get remaining requests for a plan
    function getRemainingRequests(plan) {
      const userData = getUserData();
      const planData = userData[plan];
      const planConfig = plans[plan];
      
      if (planConfig.maxRequests === Infinity) return 'Unlimited';
      
      if (plan === 'free' && planData.lastRequest) {
        const lastRequestDate = new Date(planData.lastRequest);
        const currentDate = new Date();
        const diffTime = Math.abs(currentDate - lastRequestDate);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        
        if (diffDays >= planConfig.resetDays) {
          return planConfig.maxRequests;
        }
      }
      
      return planConfig.maxRequests - planData.requests;
    }

    // Validate password and return plan type
    function validatePassword(password) {
      if (password === plans.free.password) return 'free';
      if (plans.plus.passwordEnd && password.endsWith(plans.plus.passwordEnd)) return 'plus';
      if (plans.pro.passwordEnd && password.endsWith(plans.pro.passwordEnd)) return 'pro';
      return null;
    }

    // Send email using a simple mailto link as fallback
    function sendEmail(plan, requestDetails) {
      const subject = `CodeGoldenAI Engineer Request - ${plan.toUpperCase()} Plan`;
      const body = `Plan: ${plan}\nPassword: ${getPlanPassword(plan)}\n\nRequest Details:\n${requestDetails}`;
      
      // Create a mailto link
      const mailtoLink = `mailto:codingengineer288@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
      
      // Open the user's email client
      window.location.href = mailtoLink;
      return true;
    }

    // Get the password for the plan to include in the email
    function getPlanPassword(plan) {
      if (plan === 'free') return '0000';
      if (plan === 'plus') return 'ends with 444212';
      if (plan === 'pro') return 'ends with @_2211';
      return 'Unknown';
    }

    // DOM elements
    const passwordSection = document.getElementById('passwordSection');
    const requestSection = document.getElementById('requestSection');
    const successMessage = document.getElementById('successMessage');
    const errorMessage = document.getElementById('errorMessage');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const passwordInput = document.getElementById('passwordInput');
    const submitPassword = document.getElementById('submitPassword');
    const passwordError = document.getElementById('passwordError');
    const engineerForm = document.getElementById('engineerForm');
    const requestDetails = document.getElementById('requestDetails');
    const submitRequest = document.getElementById('submitRequest');
    const requestsRemaining = document.getElementById('requestsRemaining');
    const responseDays = document.getElementById('responseDays');
    const confirmationText = document.getElementById('confirmationText');
    const errorText = document.getElementById('errorText');
    const usageText = document.getElementById('usageText');

    // Current user plan (set after password validation)
    let currentPlan = null;

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      initUserData();
      
      // Password submission
      submitPassword.addEventListener('click', function() {
        const password = passwordInput.value.trim();
        const plan = validatePassword(password);
        
        if (plan) {
          currentPlan = plan;
          passwordError.classList.add('hidden');
          
          // Check if user can make a request
          if (canMakeRequest(plan)) {
            // Show the request form
            passwordSection.classList.add('hidden');
            requestSection.classList.remove('hidden');
            
            // Update the UI with plan-specific information
            requestsRemaining.textContent = getRemainingRequests(plan);
            responseDays.textContent = plans[plan].responseTime;
            
            // Update usage text based on plan
            if (plan === 'pro') {
              usageText.innerHTML = 'Requests remaining: <strong>Unlimited</strong>';
            } else {
              usageText.innerHTML = `Requests remaining: <strong>${getRemainingRequests(plan)}</strong>`;
            }
          } else {
            // User cannot make more requests
            passwordError.textContent = `You have reached the maximum number of requests for your ${plan} plan.`;
            passwordError.classList.remove('hidden');
          }
        } else {
          // Invalid password
          passwordError.classList.remove('hidden');
        }
      });
      
      // Engineer request form submission
      engineerForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const details = requestDetails.value.trim();
        
        if (details.length < 10) {
          alert('Please provide more details about your request (at least 10 characters).');
          return;
        }
        
        // Show loading spinner
        requestSection.classList.add('hidden');
        loadingSpinner.classList.remove('hidden');
        
        // Disable the button to prevent multiple submissions
        submitRequest.disabled = true;
        
        // Send the email after a short delay to show loading state
        setTimeout(function() {
          try {
            const emailSent = sendEmail(currentPlan, details);
            
            if (emailSent) {
              // Update user data
              const userData = getUserData();
              const planData = userData[currentPlan];
              const newRequestCount = planData.requests + 1;
              updateUserData(currentPlan, newRequestCount, new Date().toISOString());
              
              // Show success message
              loadingSpinner.classList.add('hidden');
              confirmationText.textContent = `An engineer may contact you within ${plans[currentPlan].responseTime}.`;
              successMessage.classList.remove('hidden');
            } else {
              throw new Error('Email sending failed');
            }
          } catch (error) {
            // Show error message
            loadingSpinner.classList.add('hidden');
            errorText.textContent = 'There was an error sending your request. Please try again or contact us directly at codingengineer288@gmail.com';
            errorMessage.classList.remove('hidden');
          }
        }, 1500); // 1.5 second delay to show loading state
      });
      
      // Allow Enter key to submit password
      passwordInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          submitPassword.click();
        }
      });
    });
  </script>
</body>
</html>
